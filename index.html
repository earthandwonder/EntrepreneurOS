<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LLM-Friendly App Ideas</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>LLM-Friendly App Ideas üöÄ</h1>
            <p class="subtitle">Click on an idea to see the details</p>
        </header>
        
        <main>
            <div id="app-list" class="app-list"></div>
        </main>
        
        <footer>
            <p>Built with ‚ù§Ô∏è for aspiring app developers</p>
        </footer>
    </div>

    <div id="card-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <div id="card-content"></div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            let appIdeas = [];
            const appList = document.getElementById('app-list');
            const modal = document.getElementById('card-modal');
            const modalContent = document.getElementById('card-content');
            const closeButton = document.querySelector('.close-button');

            fetch('LLM_Friendly_App_Ideas.json')
                .then(response => response.json())
                .then(data => {
                    appIdeas = data.filter(idea => idea.Name); // Filter out ideas without a name
                    displayAppIdeas();
                })
                .catch(error => {
                    console.error('Error fetching app ideas:', error);
                    appList.innerHTML = '<p>Could not load app ideas.</p>';
                });

            function displayAppIdeas() {
                appList.innerHTML = '';
                appIdeas.forEach((idea, index) => {
                    if (!idea.Name) return;
                    const appItem = document.createElement('div');
                    appItem.className = 'app-item';
                    appItem.textContent = idea.Name;
                    appItem.dataset.index = index;
                    appItem.addEventListener('click', () => openCard(index));
                    appList.appendChild(appItem);
                });
            }

            function openCard(index) {
                const idea = appIdeas[index];
                modalContent.innerHTML = `
                    <h2 contenteditable="true" data-field="Name">${idea.Name}</h2>
                    ${Object.keys(idea).map(key => {
                        if (key === 'Name' || key === 'Order' || key === 'Origin') return '';
                        return `
                            <div class="card-field">
                                <label>${key.replace(/([A-Z])/g, ' $1')}</label>
                                <div contenteditable="true" data-field="${key}" class="editable-field">${idea[key] || 'N/A'}</div>
                            </div>
                        `;
                    }).join('')}
                `;
                
                modalContent.querySelectorAll('[contenteditable="true"]').forEach(field => {
                    field.addEventListener('input', (e) => {
                        const fieldName = e.target.dataset.field;
                        appIdeas[index][fieldName] = e.target.textContent;
                    });
                });

                modal.style.display = 'block';
            }

            closeButton.addEventListener('click', () => {
                modal.style.display = 'none';
                displayAppIdeas(); // Refresh list in case names were changed
            });

            window.addEventListener('click', (event) => {
                if (event.target == modal) {
                    modal.style.display = 'none';
                    displayAppIdeas(); // Refresh list in case names were changed
                }
            });
        });
    </script>
</body>
</html> 